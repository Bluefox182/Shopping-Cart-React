{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","cart","filter","cartItem","id","payload","tempCart","map","amount","reduce","cartTotal","price","itemTotal","total","parseFloat","toFixed","loading","Error","AppContext","React","createContext","initialState","title","img","AppProvider","children","useReducer","dispatch","fetchData","a","fetch","response","json","useEffect","Provider","value","clearCart","remove","increase","decrease","toggleAmount","useGlobalContext","useContext","Navbar","className","CartItem","src","alt","onClick","CartContainer","length","item","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b3bbc967.chunk.js","sourcesContent":["const reducer = (state, action) => {\n  if (action.type === \"CLEAR_CART\") {\n    return { ...state, cart: [] };\n  }\n  if (action.type === \"REMOVE\") {\n    return {\n      ...state,\n      cart: state.cart.filter((cartItem) => cartItem.id !== action.payload),\n    };\n  }\n  if (action.type === \"INCREASE\") {\n    let tempCart = state.cart.map((cartItem) => {\n      if (cartItem.id === action.payload) {\n        return { ...cartItem, amount: cartItem.amount + 1 };\n      }\n      return cartItem;\n    });\n    return { ...state, cart: tempCart };\n  }\n  if (action.type === \"DECREASE\") {\n    let tempCart = state.cart\n      .map((cartItem) => {\n        if (cartItem.id === action.payload) {\n          return { ...cartItem, amount: cartItem.amount - 1 };\n        }\n        return cartItem;\n      })\n      .filter((cartItem) => cartItem.amount !== 0);\n    return { ...state, cart: tempCart };\n  }\n  if (action.type === \"GET_TOTALS\") {\n    let { total, amount } = state.cart.reduce(\n      (cartTotal, cartItem) => {\n        const { price, amount } = cartItem;\n        const itemTotal = price * amount;\n\n        cartTotal.total += itemTotal;\n        cartTotal.amount += amount;\n        return cartTotal;\n      },\n      {\n        total: 0,\n        amount: 0,\n      }\n    );\n    total = parseFloat(total.toFixed(2));\n\n    return { ...state, total, amount };\n  }\n  if (action.type === \"LOADING\") {\n    return { ...state, loading: true };\n  }\n  if (action.type === \"DISPLAY_ITEMS\") {\n    return { ...state, cart: action.payload, loading: false };\n  }\n  if (action.type === \"TOGGLE_AMOUNT\") {\n    let tempCart = state.cart\n      .map((cartItem) => {\n        if (cartItem.id === action.payload.id) {\n          if (action.payload.type === \"inc\") {\n            return { ...cartItem, amount: cartItem.amount + 1 };\n          }\n          if (action.payload.type === \"dec\") {\n            return { ...cartItem, amount: cartItem.amount - 1 };\n          }\n        }\n        return cartItem;\n      })\n      .filter((cartItem) => cartItem.amount !== 0);\n    return { ...state, cart: tempCart };\n  }\n  throw new Error(\"no matching action type\");\n};\n\nexport default reducer;\n","import React, { useState, useContext, useReducer, useEffect } from \"react\";\nimport cartItems from \"./data\";\nimport reducer from \"./reducer\";\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = \"https://course-api.com/react-useReducer-cart-project\";\nconst AppContext = React.createContext();\n\nconst initialState = {\n  loading: false,\n  cart: cartItems,\n  total: 0,\n  amount: 0,\n};\n\nconst AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const clearCart = () => {\n    dispatch({ type: \"CLEAR_CART\" });\n  };\n  const remove = (id) => {\n    dispatch({ type: \"REMOVE\", payload: id });\n  };\n  const increase = (id) => {\n    dispatch({ type: \"INCREASE\", payload: id });\n  };\n  const decrease = (id) => {\n    dispatch({ type: \"DECREASE\", payload: id });\n  };\n  const fetchData = async () => {\n    dispatch({ type: \"LOADING\" });\n    const response = await fetch(url);\n    const cart = await response.json();\n    dispatch({ type: \"DISPLAY_ITEMS\", payload: cart });\n  };\n  const toggleAmount = (id, type) => {\n    dispatch({ type: \"TOGGLE_AMOUNT\", payload: { id, type } });\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"GET_TOTALS\" });\n  }, [state.cart]);\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        clearCart,\n        remove,\n        increase,\n        decrease,\n        toggleAmount,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n","export default [\n  {\n    id: 1,\n    title: \"Samsung Galaxy S7\",\n    price: 599.99,\n    img: \"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png\",\n    amount: 1,\n  },\n  {\n    id: 2,\n    title: \"google pixel \",\n    price: 499.99,\n    img: \"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png\",\n    amount: 1,\n  },\n  {\n    id: 3,\n    title: \"Xiaomi Redmi Note 2\",\n    price: 699.99,\n    img: \"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png\",\n    amount: 1,\n  },\n];\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\nimport { FiShoppingBag } from \"react-icons/fi\";\n\nconst Navbar = () => {\n  const { amount } = useGlobalContext();\n  return (\n    <nav>\n      <div className=\"nav-center\">\n        <h3>MyCart</h3>\n        <div className=\"nav-container\">\n          <span className=\"quote-icon\">\n            <FiShoppingBag />\n          </span>\n          <div className=\"amount-container\">\n            <p className=\"total-amount\">{amount}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\nimport { FiPlusCircle, FiMinusCircle } from \"react-icons/fi\";\nconst CartItem = ({ id, img, title, price, amount }) => {\n  const { remove, increase, decrease, toggleAmount } = useGlobalContext();\n  return (\n    <article className=\"cart-item\">\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className=\"item-price\">${price}</h4>\n        {/* remove button */}\n        <button className=\"remove-btn\" onClick={() => remove(id)}>\n          remove\n        </button>\n      </div>\n      <div className=\"amount-div\">\n        {/* increase amount */}\n        <button className=\"amount-btn\" onClick={() => toggleAmount(id, \"inc\")}>\n          <span className=\"amount-icon\">\n            <FiPlusCircle />\n          </span>\n        </button>\n        {/* amount */}\n        <p className=\"amount\">{amount}</p>\n        {/* decrease amount */}\n        <button className=\"amount-btn\" onClick={() => toggleAmount(id, \"dec\")}>\n          <span className=\"amount-icon\">\n            <FiMinusCircle />\n          </span>\n        </button>\n      </div>\n    </article>\n  );\n};\n\nexport default CartItem;\n","import React from \"react\";\nimport CartItem from \"./CartItem\";\nimport { useGlobalContext } from \"./context\";\n\nconst CartContainer = () => {\n  const { cart, total, clearCart } = useGlobalContext();\n  if (cart.length === 0) {\n    return (\n      <section className=\"cart\">\n        {/* cart header */}\n        <header>\n          <h4>Item(s)</h4>\n          <h4 className=\"empty-cart\">You Cart is empty</h4>\n        </header>\n      </section>\n    );\n  }\n  return (\n    <section className=\"cart\">\n      {/* cart header */}\n      <header>\n        <h4 className=\"cart-title\">Item(s)</h4>\n      </header>\n      {/* cart items */}\n      <div>\n        {cart.map((item) => {\n          return <CartItem key={item.id} {...item} />;\n        })}\n      </div>\n      {/* cart footer */}\n      <footer>\n        <hr />\n        <div className=\"cart-total\">\n          <h4>\n            total <span>${total}</span>\n          </h4>\n        </div>\n        <button className=\"btn clear-btn\" onClick={clearCart}>\n          clear cart\n        </button>\n      </footer>\n    </section>\n  );\n};\n\nexport default CartContainer;\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\n\n// components\nimport Navbar from \"./Navbar\";\nimport CartContainer from \"./CartContainer\";\n// items\n\nfunction App() {\n  const { loading } = useGlobalContext();\n  if (loading) {\n    return (\n      <div className=\"loading\">\n        <h1>Loading...</h1>\n      </div>\n    );\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AppProvider } from \"./context\";\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}